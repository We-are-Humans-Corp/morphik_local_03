# üöÄ Morphik v2.0 - AI-Powered Document Intelligence Platform

[![Version](https://img.shields.io/badge/version-2.0-blue.svg)](https://github.com/We-are-Humans-Corp/Morphik_local)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Docker](https://img.shields.io/badge/docker-ready-brightgreen.svg)](https://www.docker.com/)
[![Modal](https://img.shields.io/badge/GPU-Modal.com-purple.svg)](https://modal.com)

AI-native platform for processing visually rich documents with multimodal understanding. Powered by ColPali on Modal.com GPU infrastructure.


## üéØ –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —ç—Ç–∞ —Å–∏—Å—Ç–µ–º–∞

### –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ—Ç Morphik v2.0

1. **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
   - –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ RAG —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Ä—è—é—Ç 60% –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ PDF (–≥—Ä–∞—Ñ–∏–∫–∏, —Ç–∞–±–ª–∏—Ü—ã, –¥–∏–∞–≥—Ä–∞–º–º—ã)
   - ColPali –Ω–∞ GPU –ø–æ–Ω–∏–º–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑ OCR
   - –ü–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç—É

2. **–≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ**
   - GPU A100 —Å—Ç–æ–∏—Ç $4/—á–∞—Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ vs $0.012/–º–∏–Ω –Ω–∞ Modal.com
   - Auto-scaling: –ø–ª–∞—Ç–∏–º —Ç–æ–ª—å–∫–æ –∑–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
   - –≠–∫–æ–Ω–æ–º–∏—è –¥–æ 90% –Ω–∞ GPU —Ä–µ—Å—É—Ä—Å–∞—Ö

3. **Enterprise-ready –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - Multi-tenancy —á–µ—Ä–µ–∑ app_id
   - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å user scoping
   - –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
   - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

4. **–ì–∏–±—Ä–∏–¥–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
   - –õ–æ–∫–∞–ª—å–Ω—ã–µ LLM —á–µ—Ä–µ–∑ Ollama –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
   - Cloud –º–æ–¥–µ–ª–∏ (GPT-4, Claude) –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á
   - ColPali –Ω–∞ Modal.com –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
   - –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É

### –û—Å–Ω–æ–≤–Ω—ã–µ use cases

- **–ê–Ω–∞–ª–∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ —Ç–∞–±–ª–∏—Ü
- **–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–µ–Ω—Ç–≥–µ–Ω–æ–≤—Å–∫–∏—Ö —Å–Ω–∏–º–∫–æ–≤ –∏ –¥–∏–∞–≥—Ä–∞–º–º
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü–æ–∏—Å–∫ –ø–æ —Å—Ö–µ–º–∞–º –∏ —á–µ—Ä—Ç–µ–∂–∞–º
- **–ù–∞—É—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏**: –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–º—É–ª –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π
- **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: –†–∞–±–æ—Ç–∞ —Å–æ —Å–∫–∞–Ω–∞–º–∏ –∏ –ø–æ–¥–ø–∏—Å—è–º–∏


## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:**
- üñ•Ô∏è **–õ–æ–∫–∞–ª—å–Ω–æ**: UI (React), API (FastAPI), Worker - –ø–æ—Ä—Ç—ã 3000, 8000
- ‚òÅÔ∏è **Modal.com**: ColPali GPU –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ A100
- üóÑÔ∏è **Hetzner**: PostgreSQL, Redis, Ollama - —Å–µ—Ä–≤–µ—Ä 135.181.106.12

[–ü–æ–¥—Ä–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Üí](./README/COMPLETE_DOCUMENTATION_v2.0.md#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-v20)

## üöÄ Quick Start

### Prerequisites
- Docker & Docker Compose
- 8GB RAM minimum
- Modal.com account (for GPU processing)

### Installation

```bash
# 1. Clone repository
git clone https://github.com/We-are-Humans-Corp/Morphik_local.git
cd Morphik_local/modal-morphik_test

# 2. Configure environment
cp .env.example .env
# Edit .env with your API keys

# 3. Start services
docker-compose up -d

# 4. Deploy Modal GPU function
modal deploy morphik_processor_fixed.py

# 5. Access UI
open http://localhost:3000
```

### Default Credentials
- **Username**: `demotest`
- **Password**: `demo`
- **API Docs**: http://localhost:8000/docs

## üìä Services & Ports

| Service | Port | Location | Description |
|---------|------|----------|-------------|
| **UI** | 3000 | Local Docker | Next.js 15 frontend |
| **API** | 8000 | Local Docker | FastAPI backend |
| **PostgreSQL** | 5432 | Hetzner | Database + pgvector |
| **Redis** | 6379 | Hetzner | Queue & cache |
| **Ollama** | 11434 | Hetzner | Local LLM models |
| **MinIO** | 32000 | Hetzner | S3-compatible storage |
| **ColPali** | HTTPS | Modal.com | GPU processing |

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `morphik.toml` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ API –∫–ª—é—á–∏
- `docker-compose.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

[–ü–æ–¥—Ä–æ–±–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Üí](./README/COMPLETE_DOCUMENTATION_v2.0.md#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

## üìö Documentation

- **[Complete Documentation v2.0](./README/COMPLETE_DOCUMENTATION_v2.0.md)** - Full system guide
- **[ColPali Setup](./README/COLPALI_COMPLETE_SETUP.md)** - GPU processing details
- **[Git Deployment](./README/GIT_DEPLOYMENT_SETUP.md)** - CI/CD workflow
- **[Changelog](./README/MORPHIK_CHANGELOG.md)** - Version history

## üö¢ Deployment

### Quick Deploy to Production

```bash
# Push to GitHub & deploy to server
cd /Users/fedor/PycharmProjects/PythonProject/Morphik_local && \
git add . && \
git commit -m "feat: your changes" && \
git push origin main && \
ssh root@135.181.106.12 "cd /opt/morphik && git pull && docker-compose restart"
```

### Deploy Modal Function

```bash
modal deploy morphik_processor_fixed.py
```

## üõ†Ô∏è Troubleshooting

–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω—ã –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](./README/COMPLETE_DOCUMENTATION_v2.0.md#troubleshooting).

–ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker ps
curl http://localhost:8000/health

# –õ–æ–≥–∏
docker logs morphik-colpali-configured -f
```

## ü§ù Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing`)
3. Commit changes (`git commit -m 'feat: add amazing feature'`)
4. Push to branch (`git push origin feature/amazing`)
5. Open Pull Request


## üôè Acknowledgments

- [ColPali](https://github.com/illuin-tech/colpali) - Visual document understanding
- [Modal.com](https://modal.com) - Serverless GPU infrastructure
- [FastAPI](https://fastapi.tiangolo.com) - Modern API framework
- [Next.js](https://nextjs.org) - React framework

